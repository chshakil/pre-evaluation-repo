package com.example.pre.evaluation.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.pre.evaluation.model.Student;
import com.example.pre.evaluation.repository.StudentRepository;

@Service
public class StudentService {

	@Autowired
	private StudentRepository repository;

	public Student createStudent(Student student) {
		return repository.save(student);
	}

	public List<Student> createStudents(List<Student> sList) {
		return repository.saveAll(sList);
	}

	public List<Student> getStudents() {
		return repository.findAll();
	}

	public Student getStudentById(int id) {
		return repository.findById(id).orElse(null);
	}
	
	public Student getStudentByName(String first_name) {
		return repository.findByFirstName(first_name);
	}
	
	public String deleteStudentById(int id) {
		repository.deleteById(id);
		return "student removed !!" + id;
	}

	public void deleteStudents() {
		repository.deleteAll();
	}

	public Student updateStudent(Student student) {
		Student existingStudent = repository.findById(student.getId()).orElse(null);
		existingStudent.setReg_id(student.getReg_id());
		existingStudent.setInstitution_id(student.getInstitution_id());
		existingStudent.setFirst_name(student.getFirst_name());
		existingStudent.setLast_name(student.getLast_name());
		existingStudent.setEmail(student.getEmail());
		existingStudent.setReg_date(student.getReg_date());
		existingStudent.setDate_of_birth(student.getDate_of_birth());
		existingStudent.setAge(student.getAge());
		existingStudent.setGender(student.getGender());
		existingStudent.setNid(student.getNid());
		existingStudent.setOccupation(student.getOccupation());
		existingStudent.setHome_contact(student.getHome_contact());
		existingStudent.setStd_contact(student.getStd_contact());
		existingStudent.setPhoto(student.getPhoto());
		existingStudent.setCreated_on(student.getCreated_on());
		existingStudent.setCreated_by(student.getCreated_by());
		return repository.save(existingStudent);
	}
}
